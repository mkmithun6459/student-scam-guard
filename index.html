<!DOCTYPE html>
<html>
<head>
  <title>ScamGuard for Students</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: linear-gradient(135deg, #1e3c72, #2a5298);
      color: #fff;
      padding: 40px;
    }
    .card {
      max-width: 720px;
      margin: auto;
      background: #ffffff;
      color: #000;
      padding: 25px;
      border-radius: 12px;
      box-shadow: 0 10px 25px rgba(0,0,0,0.25);
    }
    textarea {
      width: 100%;
      height: 150px;
      padding: 10px;
      font-size: 15px;
    }
    button {
      margin-top: 15px;
      padding: 12px 20px;
      background: #2a5298;
      color: #fff;
      border: none;
      border-radius: 8px;
      font-size: 16px;
      cursor: pointer;
    }
    button:hover {
      background: #1e3c72;
    }
    .risk-high { color: #d9534f; }
    .risk-medium { color: #f0ad4e; }
    .risk-low { color: #5cb85c; }
    ul { margin-left: 20px; }
  </style>
</head>

<body>
  <div class="card">
    <h2>üõ°Ô∏è ScamGuard for Students</h2>
    <p>Paste a job, internship, course link, or email message</p>

    <textarea id="input" placeholder="Paste content here..."></textarea>
    <button onclick="analyze()">Check Authenticity</button>

    <p style="font-size:13px;color:#555;">No login. No data stored.</p>

    <div id="output"></div>
  </div>

<script>
async function analyze() {
  const content = document.getElementById("input").value;
  document.getElementById("output").innerHTML = "<p>Analyzing...</p>";

  const res = await fetch("/analyze", {
    method: "POST",
    headers: {"Content-Type": "application/json"},
    body: JSON.stringify({content})
  });

  const data = await res.json();

  const riskClass =
    data.risk_level === "High" ? "risk-high" :
    data.risk_level === "Medium" ? "risk-medium" :
    "risk-low";

  document.getElementById("output").innerHTML = `
    <h3 class="${riskClass}">Risk Level: ${data.risk_level}</h3>
    <p><strong>Why?</strong> ${data.explanation}</p>
    <p><strong>Red Flags:</strong></p>
    ${
      data.indicators.length === 0
        ? "<p>None detected</p>"
        : `<ul>${data.indicators.map(i => `<li>${i}</li>`).join("")}</ul>`
    }
    <p><strong>Safe Guidance:</strong> ${data.safe_guidance}</p>
  `;
}
</script>
</body>
</html>
